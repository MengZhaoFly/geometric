<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<!-- https://www.shuxuele.com/algebra/systems-linear-equations-matrices.html -->
<!-- https://leetcode-cn.com/problems/intersection-lcci/ -->
<body>
  <script>
    function foo(start1, end1, start2, end2) {
      let V1 = [end1[0] - start1[0], end1[1] - start1[1]];
      let V2 = [end2[0] - start2[0], end2[1] - start2[1]];
      console.log(V1, V2);
      let V1Adjugate = [-V2[1], V2[0]];
      let V2Adjugate = [-V1[1], V1[0]];
      // 
      let B = [start2[0] - start1[0], start2[1] - start1[1]];
      let det = -V1[0] * V2[1] + V2[0] * V1[1];
      console.log(det, V1[0] * V2[1] - V1[1] * V2[0]);
      let a = (V1Adjugate[0] * B[0] + V1Adjugate[1] * B[1]) / det;
      let b = (V2Adjugate[0] * B[0] + V2Adjugate[1] * B[1]) / det;
      console.log(a, b);
    }
    foo([1,2], [3,4], [1,4], [3,2])
    foo([0,0], [1,-1], [1,0], [0,-1])
  </script>
</body>

</html>